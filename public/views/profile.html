<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamBo | Profil</title>
    <link rel="stylesheet" href="/public/styles/main.css">
    <link rel="stylesheet" href="/public/styles/dashboard.css">
    <link rel="stylesheet" href="/public/styles/profile.css">
</head>
<body class="dashboard-body">
 
<main class="dashboard-container">
    <header class="dream-header">
        <div class="dream-logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256">
                <path d="M192,116a12,12,0,1,1-12-12A12,12,0,0,1,192,116ZM152,64H112a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm96,48v32a24,24,0,0,1-24,24h-2.36l-16.21,45.38A16,16,0,0,1,190.36,224H177.64a16,16,0,0,1-15.07-10.62L160.65,208h-57.3l-1.92,5.38A16,16,0,0,1,86.36,224H73.64a16,16,0,0,1-15.07-10.62L46,178.22a87.69,87.69,0,0,1-21.44-48.38A16,16,0,0,0,16,144a8,8,0,0,1-16,0,32,32,0,0,1,24.28-31A88.12,88.12,0,0,1,112,32H216a8,8,0,0,1,0,16H194.61a87.93,87.93,0,0,1,30.17,37c.43,1,.85,2,1.25,3A24,24,0,0,1,248,112Zm-16,0a8,8,0,0,0-8-8h-3.66a8,8,0,0,1-7.64-5.6A71.9,71.9,0,0,0,144,48H112A72,72,0,0,0,58.91,168.64a8,8,0,0,1,1.64,2.71L73.64,208H86.36l3.82-10.69A8,8,0,0,1,97.71,192h68.58a8,8,0,0,1,7.53,5.31L177.64,208h12.72l18.11-50.69A8,8,0,0,1,216,152h8a8,8,0,0,0,8-8Z"></path>
            </svg> 
            <span>DreamBo | Profil</span>
        </div>
    </header>

    <section class="profile-form-container">
        <h2 class="section-title">Edytuj Profil</h2>
    
        <form id="profileForm" action="/updateProfile" method="POST" enctype="multipart/form-data" class="profile-layout">
            
            <div class="profile-left">
                <div class="avatar-wrapper">
                    <?php if ($user->avatarUrl): ?>
                        <img id="preview" src="/public/uploads/<?= htmlspecialchars($user->avatarUrl) ?>" class="avatar-img">                    <?php else: ?>
                        <div id="placeholder" class="avatar-placeholder-circle">
                            <?= strtoupper(substr($user->name, 0, 1) . substr($user->surname, 0, 1)) ?>
                        </div>
                    <?php endif; ?>
            
                    <label for="avatarInput" class="edit-photo-badge" id="photoBadge" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 256 256">
                            <path d="M208,56H181l-10-20a16,16,0,0,0-14.4-12H99.4A16,16,0,0,0,85,36L75,56H48A24,24,0,0,0,24,80V192a24,24,0,0,0,24,24H208a24,24,0,0,0,24-24V80A24,24,0,0,0,208,56Zm8,136a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H80a8,8,0,0,0,7.2-4.5l12.4-24.8a8,8,0,0,1,7.2-4.5h56.4a8,8,0,0,1,7.2,4.5l12.4,24.8A8,8,0,0,0,176,72h32a8,8,0,0,1,8,8ZM128,88a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,88Zm0,72a28,28,0,1,1,28-28A28,28,0,0,1,128,160Z"></path>
                        </svg>
                        <input type="file" name="file" id="avatarInput" accept="image/*" hidden disabled>
                    </label>
                </div>
                <p class="avatar-hint">Zdjęcie profilowe</p>
            </div>
    
            <div class="profile-right">
                <div class="simple-form">
                    <label>
                        <span>Imię</span>
                        <input type="text" name="name" value="<?= htmlspecialchars($user->name) ?>" disabled required>
                    </label>
    
                    <label>
                        <span>Nazwisko</span>
                        <input type="text" name="surname" value="<?= htmlspecialchars($user->surname) ?>" disabled required>
                    </label>
    
                    <label>
                        <span>Email</span>
                        <input type="email" name="email" value="<?= htmlspecialchars($user->email) ?>" disabled required>
                    </label>
    
                    <div class="btn-row">
                        <button type="button" id="editBtn" class="update-btn">Edytuj dane</button>
                        <button type="submit" id="saveBtn" class="update-btn dark-btn" style="display: none;">Zapisz zmiany</button>
                    </div>
                </div>
            </div>
        </form>
    </section>
</main>

<nav class="mobile-nav">
    <a href="/dashboard" class="nav-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z"></path></svg>
    </a>
    <a href="/profile" class="nav-item active">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path></svg>
    </a>
</nav>

<script src="/public/scripts/profile.js" defer></script>
</body>
</html>